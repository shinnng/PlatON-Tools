
from client_sdk_python import Account

from keyParser.key import hex_address_to_bech32_address
from simple_evm import deploy, Contract
from simple_tx import SimpleTx

# rpc = 'http://192.168.120.121:6789'
# rpc = 'http://192.168.120.141:6789'  #  alaya主网
# chain_id = 201018
# hrp = 'atp'
# rpc = 'http://192.168.120.150:6789'  # PlatON 主网 100
rpc = 'http://192.168.9.142:6789'
chain_id = 100
hrp = 'lat'
# main_address, main_private_key = 'atp1zkrxx6rf358jcvr7nruhyvr9hxpwv9uncjmns0', 'f51ca759562e1daf9e5302d121f933a8152915d34fcbc27e542baf256b5e4b74'
# main_address, main_private_key = 'atp1cy2uat0eukfrxv897s5s8lnljfka5ewjj943gf', '03a4130e4abb887a296eb38c15bbd83253ab09492a505b10a54b008b7dcc1668'
main_address, main_private_key = 'lat1cy2uat0eukfrxv897s5s8lnljfka5ewjtnrfhx', '03a4130e4abb887a296eb38c15bbd83253ab09492a505b10a54b008b7dcc1668'
tx = SimpleTx(rpc, chain_id, hrp=hrp)


false = False
true = True
bytecode = '608060405234801561001057600080fd5b50614577806100206000396000f3fe608060405260043610620002235760003560e01c80638129fc1c11620001275780639fb0c81511620000af578063bb3028631162000079578063bb3028631462000ba9578063ca9769db1462000bc1578063dc9f33c81462000cab578063f2fde38b1462000d4e578063fce14eff1462000d855762000276565b80639fb0c8151462000a15578063b30df69e1462000aa7578063b729da471462000ad5578063b851f0ae1462000b035762000276565b80638f7247a411620000f15780638f7247a4146200086d5780639784af6214620008ef57806397cefc4c14620009cd5780639a40cc3814620009fd5762000276565b80638129fc1c146200070e5780638da5cb5b14620007265780638e0ad1cc146200073e5780638f32d59b14620008555762000276565b8063359a90e211620001ab5780635cd8239011620001755780635cd8239014620006255780635cee9522146200065c5780636708e6f514620006de5780636fb7575c14620006f65762000276565b8063359a90e214620004db578063381c4fce146200050957806339046e8b146200058b5780635c2b28fe14620005a35762000276565b80632a32db5811620001ed5780632a32db58146200032257806331abda2814620003a45780633241992a146200047957806334b75a0c14620004ad5762000276565b8063038d71ee146200027b5780630bc14f8b14620002955780631c3e6ee614620002cc578063217e246614620002f65762000276565b3662000276576040805162461bcd60e51b815260206004820181905260248201527f4343426173653a2063616c6c204c6f636b417373657420696e73746561642121604482015290519081900360640190fd5b600080fd5b3480156200028857600080fd5b506200029362000d9d565b005b348015620002a257600080fd5b506200029360048036036020811015620002bb57600080fd5b50356001600160a01b031662000e0c565b348015620002d957600080fd5b50620002e462000eb3565b60408051918252519081900360200190f35b3480156200030357600080fd5b506200030e62000eb9565b604080519115158252519081900360200190f35b3480156200032f57600080fd5b50620002e4600480360360208110156200034857600080fd5b810190602081018135600160201b8111156200036357600080fd5b8201836020820111156200037657600080fd5b803590602001918460018302840111600160201b831117156200039857600080fd5b50909250905062000eca565b348015620003b157600080fd5b506200029360048036036060811015620003ca57600080fd5b810190602081018135600160201b811115620003e557600080fd5b820183602082011115620003f857600080fd5b803590602001918460018302840111600160201b831117156200041a57600080fd5b919390929091602081019035600160201b8111156200043857600080fd5b8201836020820111156200044b57600080fd5b803590602001918460018302840111600160201b831117156200046d57600080fd5b91935091503562000f65565b3480156200048657600080fd5b5062000491620013b8565b604080516001600160a01b039092168252519081900360200190f35b348015620004ba57600080fd5b506200030e60048036036020811015620004d357600080fd5b5035620013c7565b348015620004e857600080fd5b5062000293600480360360208110156200050157600080fd5b5035620013dc565b3480156200051657600080fd5b5062000491600480360360208110156200052f57600080fd5b810190602081018135600160201b8111156200054a57600080fd5b8201836020820111156200055d57600080fd5b803590602001918460018302840111600160201b831117156200057f57600080fd5b50909250905062001469565b3480156200059857600080fd5b5062000491620014a3565b348015620005b057600080fd5b50620002e460048036036020811015620005c957600080fd5b810190602081018135600160201b811115620005e457600080fd5b820183602082011115620005f757600080fd5b803590602001918460018302840111600160201b831117156200061957600080fd5b509092509050620014b2565b3480156200063257600080fd5b5062000293600480360360208110156200064b57600080fd5b50356001600160a01b0316620014e3565b3480156200066957600080fd5b5062000293600480360360408110156200068257600080fd5b810190602081018135600160201b8111156200069d57600080fd5b820183602082011115620006b057600080fd5b803590602001918460018302840111600160201b83111715620006d257600080fd5b9193509150356200158a565b348015620006eb57600080fd5b50620002e46200166e565b3480156200070357600080fd5b506200030e62001674565b3480156200071b57600080fd5b506200029362001684565b3480156200073357600080fd5b506200049162001738565b3480156200074b57600080fd5b50620007c0600480360360208110156200076457600080fd5b810190602081018135600160201b8111156200077f57600080fd5b8201836020820111156200079257600080fd5b803590602001918460018302840111600160201b83111715620007b457600080fd5b5090925090506200174d565b60405180846001600160a01b03168152602001806020018360ff168152602001828103825284818151815260200191508051906020019080838360005b8381101562000817578181015183820152602001620007fd565b50505050905090810190601f168015620008455780820380516001836020036101000a031916815260200191505b5094505050505060405180910390f35b3480156200086257600080fd5b506200030e6200197a565b3480156200087a57600080fd5b5062000293600480360360408110156200089357600080fd5b810190602081018135600160201b811115620008ae57600080fd5b820183602082011115620008c157600080fd5b803590602001918460018302840111600160201b83111715620008e357600080fd5b91935091503562001991565b348015620008fc57600080fd5b5062000293600480360360808110156200091557600080fd5b810190602081018135600160201b8111156200093057600080fd5b8201836020820111156200094357600080fd5b803590602001918460018302840111600160201b831117156200096557600080fd5b919390929091602081019035600160201b8111156200098357600080fd5b8201836020820111156200099657600080fd5b803590602001918460018302840111600160201b83111715620009b857600080fd5b919350915060ff813516906020013562001b71565b348015620009da57600080fd5b506200029360048036036020811015620009f357600080fd5b5035151562001f20565b34801562000a0a57600080fd5b50620002e462001f89565b34801562000a2257600080fd5b50620002936004803603606081101562000a3b57600080fd5b6001600160a01b038235169190810190604081016020820135600160201b81111562000a6657600080fd5b82018360208201111562000a7957600080fd5b803590602001918460018302840111600160201b8311171562000a9b57600080fd5b91935091503562001f8e565b34801562000ab457600080fd5b506200030e6004803603602081101562000acd57600080fd5b5035620021b7565b34801562000ae257600080fd5b50620002936004803603602081101562000afb57600080fd5b5035620021cc565b34801562000b1057600080fd5b5062000b316004803603602081101562000b2957600080fd5b503562002259565b6040805160208082528351818301528351919283929083019185019080838360005b8381101562000b6d57818101518382015260200162000b53565b50505050905090810190601f16801562000b9b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801562000bb657600080fd5b50620002e462002304565b34801562000bce57600080fd5b5062000293600480360360a081101562000be757600080fd5b8135916001600160a01b0360208201351691810190606081016040820135600160201b81111562000c1757600080fd5b82018360208201111562000c2a57600080fd5b803590602001918460018302840111600160201b8311171562000c4c57600080fd5b919390929091602081019035600160201b81111562000c6a57600080fd5b82018360208201111562000c7d57600080fd5b803590602001918460018302840111600160201b8311171562000c9f57600080fd5b9193509150356200230a565b34801562000cb857600080fd5b5062000293600480360360c081101562000cd157600080fd5b8135916001600160a01b0360208201351691810190606081016040820135600160201b81111562000d0157600080fd5b82018360208201111562000d1457600080fd5b803590602001918460018302840111600160201b8311171562000d3657600080fd5b91935091508035906020810135906040013562002640565b34801562000d5b57600080fd5b50620002936004803603602081101562000d7457600080fd5b50356001600160a01b031662002a99565b34801562000d9257600080fd5b506200030e62002aef565b6002546001600160a01b0316331462000dfd576040805162461bcd60e51b815260206004820181905260248201527f72657175697265206d6f6e69746f7220746f206f70657261746520746869732e604482015290519081900360640190fd5b6002805460ff60a01b19169055565b62000e166200197a565b62000e57576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b6001546040516001600160a01b038084169216907f6b574ca7dba9fa8572b74f206089d9626b4494e54cc4eaf180f739275642993e90600090a3600180546001600160a01b0319166001600160a01b0392909216919091179055565b60035490565b6001546001600160a01b0316331490565b6000600683836040518083838082843791909101948552505060408051602094819003850181205463554d578d60e01b825291516001600160a01b039092169463554d578d945060048083019450909291829003018186803b15801562000f3057600080fd5b505afa15801562000f45573d6000803e3d6000fd5b505050506040513d602081101562000f5c57600080fd5b50519392505050565b600254600160a01b900460ff16151560011462000fc3576040805162461bcd60e51b8152602060048201526017602482015276627573696e65737320737769746368206973206f66662160481b604482015290519081900360640190fd5b602a8414620010045760405162461bcd60e51b81526004018080602001828103825260218152602001806200448c6021913960400191505060405180910390fd5b6000600684846040518083838082843791909101948552505060405192839003602001909220546001600160a01b031692505050806200108b576040805162461bcd60e51b815260206004820152601e60248201527f546f6b656e20636f6e7472616374206861736e27742063726561746564210000604482015290519081900360640190fd5b81816001600160a01b03166370a08231336040518263ffffffff1660e01b815260040180826001600160a01b0316815260200191505060206040518083038186803b158015620010da57600080fd5b505afa158015620010ef573d6000803e3d6000fd5b505050506040513d60208110156200110657600080fd5b5051101562001154576040805162461bcd60e51b8152602060048201526015602482015274496e73756666696369656e742062616c616e63652160581b604482015290519081900360640190fd5b60006007858560405180838380828437919091019485525050604051928390036020019092205492505050808311620011bf5760405162461bcd60e51b8152600401808060200182810382526022815260200180620045206022913960400191505060405180910390fd5b6040805163079cc67960e41b81523360048201526024810185905290516001600160a01b038416916379cc679091604480830192600092919082900301818387803b1580156200120e57600080fd5b505af115801562001223573d6000803e3d6000fd5b5050604080516308934a5f60e31b81523060048201526024810185905290516001600160a01b038616935063449a52f8925060448083019260209291908290030181600087803b1580156200127757600080fd5b505af11580156200128c573d6000803e3d6000fd5b505050506040513d6020811015620012a357600080fd5b5051620012f3576040805162461bcd60e51b81526020600482015260196024820152784d696e74206661696c656420756e65787065637465646c792160381b604482015290519081900360640190fd5b600380546001019081905533907f8353ab95a12f8ae7ca84528b742a69cba967137f47810e78190614d8c8d2ec679089898989620013328a8962002b00565b886040518088815260200180602001806020018581526020018481526020018381038352898982818152602001925080828437600083820152601f01601f191690910184810383528781526020019050878780828437600083820152604051601f909101601f19169092018290039b50909950505050505050505050a250505050505050565b6002546001600160a01b031690565b60096020526000908152604090205460ff1681565b620013e66200197a565b62001427576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b600554604080519182526020820183905280517fe8910f801acad6b6d7308b4c6e677d87bf6a6bf27bdf6cef88876d87e305fe7f9281900390910190a1600555565b6000600683836040518083838082843791909101948552505060405192839003602001909220546001600160a01b03169250505092915050565b6001546001600160a01b031690565b6000600783836040518083838082843791909101948552505060405192839003602001909220549250505092915050565b620014ed6200197a565b6200152e576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b6002546040516001600160a01b038084169216907fe0dc6d2205ca24ba49ce09888e88005fb69117905756cc28f18fea967ea3354e90600090a3600280546001600160a01b0319166001600160a01b0392909216919091179055565b620015946200197a565b620015d5576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b80600784846040518083838082843780830192505050925050509081526020016040518091039020819055507fc5ac5f401004b6266bc5961b9793eba062b18199c69f940128c01bfb7a2e306b83838360405180806020018381526020018281038252858582818152602001925080828437600083820152604051601f909101601f1916909201829003965090945050505050a1505050565b60055490565b600254600160a01b900460ff1690565b600054610100900460ff1680620016a05750620016a062002b4b565b80620016af575060005460ff16155b620016ec5760405162461bcd60e51b815260040180806020018281038252602e81526020018062004401602e913960400191505060405180910390fd5b600054610100900460ff1615801562001718576000805460ff1961ff0019909116610100171660011790555b6200172262002b51565b801562001735576000805461ff00191690555b50565b6000546201000090046001600160a01b031690565b6000606060006006858560405180838380828437919091019485525050604051928390036020018320546001600160a01b0316926006925088915087908083838082843791909101948552505060408051938490036020018420546306fdde0360e01b855290516001600160a01b03909116936306fdde0393506004808201935060009291829003018186803b158015620017e757600080fd5b505afa158015620017fc573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405260208110156200182657600080fd5b8101908080516040519392919084600160201b8211156200184657600080fd5b9083019060208201858111156200185c57600080fd5b8251600160201b8111828201881017156200187657600080fd5b82525081516020918201929091019080838360005b83811015620018a55781810151838201526020016200188b565b50505050905090810190601f168015620018d35780820380516001836020036101000a031916815260200191505b50604052505050600687876040518083838082843791909101948552505060408051602094819003850181205463313ce56760e01b825291516001600160a01b039092169463313ce567945060048083019450909291829003018186803b1580156200193e57600080fd5b505afa15801562001953573d6000803e3d6000fd5b505050506040513d60208110156200196a57600080fd5b5051919450925090509250925092565b6000546201000090046001600160a01b0316331490565b6200199b6200197a565b620019dc576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b6000600684846040518083838082843791909101948552505060408051602094819003850181205463554d578d60e01b825291516001600160a01b039092169463554d578d945060048083019450909291829003018186803b15801562001a4257600080fd5b505afa15801562001a57573d6000803e3d6000fd5b505050506040513d602081101562001a6e57600080fd5b5051604051909150600690859085908083838082843791909101948552505060408051938490036020018420546347786d3760e01b85526004850187905290516001600160a01b03909116936347786d379350602480820193506000929182900301818387803b15801562001ae257600080fd5b505af115801562001af7573d6000803e3d6000fd5b505050507fbc8581f422265de272f7274863bdbb341f4f80505c20877b68a2f433bc76359e8484838560405180806020018481526020018381526020018281038252868682818152602001925080828437600083820152604051601f909101601f191690920182900397509095505050505050a150505050565b62001b7b6200197a565b62001bbc576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b841580159062001bcc5750601485105b62001c095760405162461bcd60e51b815260040180806020018281038252602c8152602001806200442f602c913960400191505060405180910390fd5b821580159062001c195750600a83105b62001c565760405162461bcd60e51b815260040180806020018281038252602d815260200180620043d4602d913960400191505060405180910390fd5b60006001600160a01b0316600685856040518083838082843791909101948552505060405192839003602001909220546001600160a01b031692909214915062001cd490505760405162461bcd60e51b81526004018080602001828103825260318152602001806200445b6031913960400191505060405180910390fd5b600086868686868660405162001cea9062002dce565b60ff831660408201526060810182905260808082528101869052806020810160a08201898980828437600083820152601f01601f1916909101848103835287815260200190508787808284376000838201819052604051601f909201601f19169093018190039b50995090975050505050505050f08015801562001d72573d6000803e3d6000fd5b5090508060068686604051808383808284379190910194855250506040519283900360200190922080546001600160a01b03949094166001600160a01b03199094169390931790925550506008805460018101825560009190915262001dfc907ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee301868662002ddc565b50806001600160a01b03167f0b0bcdebd2813328a89a9ed5971e5863201ed78fc4e0e2b271cceddb9ce905108888888888886040518080602001806020018560ff1681526020018481526020018381038352898982818152602001925080828437600083820152601f01601f191690910184810383528781526020019050878780828437600083820152604051601f909101601f19169092018290039a509098505050505050505050a27fbc8581f422265de272f7274863bdbb341f4f80505c20877b68a2f433bc76359e858560008560405180806020018481526020018381526020018281038252868682818152602001925080828437600083820152604051601f909101601f191690920182900397509095505050505050a150505050505050565b62001f2a6200197a565b62001f6b576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b60028054911515600160a01b0260ff60a01b19909216919091179055565b602a81565b62001f986200197a565b62001fd9576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b60006006848460405180838380828437919091019485525050604080519384900360209081018520546370a0823160e01b865230600487015291516001600160a01b03909216955086948694506370a08231935060248082019391829003018186803b1580156200204957600080fd5b505afa1580156200205e573d6000803e3d6000fd5b505050506040513d60208110156200207557600080fd5b50511015620020b65760405162461bcd60e51b815260040180806020018281038252602e815260200180620044f2602e913960400191505060405180910390fd5b806001600160a01b031663a9059cbb86846040518363ffffffff1660e01b815260040180836001600160a01b0316815260200182815260200192505050602060405180830381600087803b1580156200210e57600080fd5b505af115801562002123573d6000803e3d6000fd5b505050506040513d60208110156200213a57600080fd5b505060408051602081018490528181529081018490526001600160a01b038616907f46ec2bcbecc0482d5fad5750e5669326a0d0ba1c98b4b70d183f7264c41a741f908690869086908060608101858580828437600083820152604051601f909101601f1916909201829003965090945050505050a25050505050565b60046020526000908152604090205460ff1681565b620021d66200197a565b62002217576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b600354604080519182526020820183905280517f74ca3ca4c96dfc088ffd988e0195d187ffb234f4642981e202970ff480bfaad59281900390910190a1600355565b600881815481106200226757fe5b600091825260209182902001805460408051601f6002600019610100600187161502019094169390930492830185900485028101850190915281815293509091830182828015620022fc5780601f10620022d057610100808354040283529160200191620022fc565b820191906000526020600020905b815481529060010190602001808311620022de57829003601f168201915b505050505081565b60085490565b6200231462000eb9565b620023515760405162461bcd60e51b8152600401808060200182810382526022815260200180620043b26022913960400191505060405180910390fd5b600254600160a01b900460ff161515600114620023af576040805162461bcd60e51b8152602060048201526017602482015276627573696e65737320737769746368206973206f66662160481b604482015290519081900360640190fd5b60008781526004602052604090205460ff161562002414576040805162461bcd60e51b815260206004820152601a60248201527f4576656e742077617320616c72656164792068616e646c656421000000000000604482015290519081900360640190fd5b6000600684846040518083838082843791909101948552505060405192839003602001909220546001600160a01b0316925050508062002497576040805162461bcd60e51b815260206004820152601960248201527853796d626f6c206861736e277420726567697374657265642160381b604482015290519081900360640190fd5b806001600160a01b031663449a52f888846040518363ffffffff1660e01b815260040180836001600160a01b0316815260200182815260200192505050602060405180830381600087803b158015620024ef57600080fd5b505af115801562002504573d6000803e3d6000fd5b505050506040513d60208110156200251b57600080fd5b50516200256b576040805162461bcd60e51b81526020600482015260196024820152784d696e74206661696c656420756e65787065637465646c792160381b604482015290519081900360640190fd5b6005889055600088815260046020908152604091829020805460ff1916600117905581518a81526060810185905260809181018281529181018890526001600160a01b038a16927f32ec56425cae33dfa3e18e7f2bd8042ed94ec49b13fae85ec95e8659217c8622928c928b928b928b928b928b9290820160a08301888880828437600083820152601f01601f191690910184810383528681526020019050868680828437600083820152604051601f909101601f19169092018290039a509098505050505050505050a25050505050505050565b6200264a62000eb9565b620026875760405162461bcd60e51b8152600401808060200182810382526022815260200180620043b26022913960400191505060405180910390fd5b600254600160a01b900460ff161515600114620026e5576040805162461bcd60e51b8152602060048201526017602482015276627573696e65737320737769746368206973206f66662160481b604482015290519081900360640190fd5b60008781526009602052604090205460ff16156200274a576040805162461bcd60e51b815260206004820152601a60248201527f4576656e742077617320616c72656164792068616e646c656421000000000000604482015290519081900360640190fd5b6000600686866040518083838082843791909101948552505060405192839003602001909220546001600160a01b03169250505080620027cd576040805162461bcd60e51b815260206004820152601960248201527853796d626f6c206861736e277420726567697374657265642160381b604482015290519081900360640190fd5b806001600160a01b031663449a52f888866040518363ffffffff1660e01b815260040180836001600160a01b0316815260200182815260200192505050602060405180830381600087803b1580156200282557600080fd5b505af11580156200283a573d6000803e3d6000fd5b505050506040513d60208110156200285157600080fd5b5051620028a1576040805162461bcd60e51b81526020600482015260196024820152784d696e74206661696c656420756e65787065637465646c792160381b604482015290519081900360640190fd5b82816001600160a01b03166370a08231306040518263ffffffff1660e01b815260040180826001600160a01b0316815260200191505060206040518083038186803b158015620028f057600080fd5b505afa15801562002905573d6000803e3d6000fd5b505050506040513d60208110156200291c57600080fd5b505110156200295d5760405162461bcd60e51b815260040180806020018281038252602d81526020018062004385602d913960400191505060405180910390fd5b806001600160a01b031663a9059cbb88856040518363ffffffff1660e01b815260040180836001600160a01b0316815260200182815260200192505050602060405180830381600087803b158015620029b557600080fd5b505af1158015620029ca573d6000803e3d6000fd5b505050506040513d6020811015620029e157600080fd5b5050600088815260096020908152604091829020805460ff1916600117905581518a8152918201869052606082018590526080820184905260a09082018181529082018790526001600160a01b038916917f1d6ca9e6e996f1a093e2e14906fd77be2d8b33f927408e659f3519f2f119915d918b918a918a918a918a918a9160c08201878780828437600083820152604051601f909101601f1916909201829003995090975050505050505050a25050505050505050565b62002aa36200197a565b62002ae4576040805162461bcd60e51b81526020600482018190526024820152600080516020620044ad833981519152604482015290519081900360640190fd5b620017358162002c83565b6002546001600160a01b0316331490565b600062002b4483836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f77000081525062002d33565b9392505050565b303b1590565b600054610100900460ff168062002b6d575062002b6d62002b4b565b8062002b7c575060005460ff16155b62002bb95760405162461bcd60e51b815260040180806020018281038252602e81526020018062004401602e913960400191505060405180910390fd5b600054610100900460ff1615801562002be5576000805460ff1961ff0019909116610100171660011790555b60008054620100003381810262010000600160b01b031990931692909217808455600180546001600160a01b031990811685179091556002805460ff60a01b19921690941716600160a01b17909255600583905560405191046001600160a01b031691907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3801562001735576000805461ff001916905550565b6001600160a01b03811662002cca5760405162461bcd60e51b8152600401808060200182810382526025815260200180620044cd6025913960400191505060405180910390fd5b600080546040516001600160a01b03808516936201000090930416917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b03909216620100000262010000600160b01b0319909216919091179055565b6000818484111562002dc65760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b8381101562002d8a57818101518382015260200162002d70565b50505050905090810190601f16801562002db85780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b61150c8062002e7983390190565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062002e1f5782800160ff1982351617855562002e4f565b8280016001018555821562002e4f579182015b8281111562002e4f57823582559160200191906001019062002e32565b5062002e5d92915062002e61565b5090565b5b8082111562002e5d576000815560010162002e6256fe60806040523480156200001157600080fd5b506040516200150c3803806200150c833981810160405260808110156200003757600080fd5b81019080805160405193929190846401000000008211156200005857600080fd5b9083019060208201858111156200006e57600080fd5b82516401000000008111828201881017156200008957600080fd5b82525081516020918201929091019080838360005b83811015620000b85781810151838201526020016200009e565b50505050905090810190601f168015620000e65780820380516001836020036101000a031916815260200191505b50604052602001805160405193929190846401000000008211156200010a57600080fd5b9083019060208201858111156200012057600080fd5b82516401000000008111828201881017156200013b57600080fd5b82525081516020918201929091019080838360005b838110156200016a57818101518382015260200162000150565b50505050905090810190601f168015620001985780820380516001836020036101000a031916815260200191505b50604090815260208281015192909101518651929450925085918591620001c591600391850190620002c9565b508051620001db906004906020840190620002c9565b50506005805460ff19166012179055506000620001f7620002af565b60058054610100600160a81b0319166101006001600160a01b03841690810291909117909155604051919250906000907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3506200025882620002b3565b60008111620002a2576040805162461bcd60e51b815260206004820152601160248201527004343546f6b656e3a20636170206973203607c1b604482015290519081900360640190fd5b6006555062000365915050565b3390565b6005805460ff191660ff92909216919091179055565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200030c57805160ff19168380011785556200033c565b828001600101855582156200033c579182015b828111156200033c5782518255916020019190600101906200031f565b506200034a9291506200034e565b5090565b5b808211156200034a57600081556001016200034f565b61119780620003756000396000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c806370a08231116100a257806395d89b411161007157806395d89b4114610343578063a457c2d71461034b578063a9059cbb14610377578063dd62ed3e146103a3578063f2fde38b146103d157610116565b806370a08231146102c5578063715018a6146102eb57806379cc6790146102f35780638da5cb5b1461031f57610116565b8063313ce567116100e9578063313ce567146102285780633950935114610246578063449a52f81461027257806347786d371461029e578063554d578d146102bd57610116565b806306fdde031461011b578063095ea7b31461019857806318160ddd146101d857806323b872dd146101f2575b600080fd5b6101236103f7565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561015d578181015183820152602001610145565b50505050905090810190601f16801561018a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101c4600480360360408110156101ae57600080fd5b506001600160a01b03813516906020013561048d565b604080519115158252519081900360200190f35b6101e06104aa565b60408051918252519081900360200190f35b6101c46004803603606081101561020857600080fd5b506001600160a01b038135811691602081013590911690604001356104b0565b610230610537565b6040805160ff9092168252519081900360200190f35b6101c46004803603604081101561025c57600080fd5b506001600160a01b038135169060200135610540565b6101c46004803603604081101561028857600080fd5b506001600160a01b03813516906020013561058e565b6102bb600480360360208110156102b457600080fd5b5035610658565b005b6101e0610703565b6101e0600480360360208110156102db57600080fd5b50356001600160a01b0316610709565b6102bb610724565b6102bb6004803603604081101561030957600080fd5b506001600160a01b0381351690602001356107d1565b61032761083c565b604080516001600160a01b039092168252519081900360200190f35b610123610850565b6101c46004803603604081101561036157600080fd5b506001600160a01b0381351690602001356108b1565b6101c46004803603604081101561038d57600080fd5b506001600160a01b038135169060200135610919565b6101e0600480360360408110156103b957600080fd5b506001600160a01b038135811691602001351661092d565b6102bb600480360360208110156103e757600080fd5b50356001600160a01b0316610958565b60038054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104835780601f1061045857610100808354040283529160200191610483565b820191906000526020600020905b81548152906001019060200180831161046657829003601f168201915b5050505050905090565b60006104a161049a610a61565b8484610a65565b50600192915050565b60025490565b60006104bd848484610b51565b61052d846104c9610a61565b6105288560405180606001604052806028815260200161108b602891396001600160a01b038a16600090815260016020526040812090610507610a61565b6001600160a01b031681526020810191909152604001600020549190610cac565b610a65565b5060019392505050565b60055460ff1690565b60006104a161054d610a61565b84610528856001600061055e610a61565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610d43565b6000610598610a61565b60055461010090046001600160a01b039081169116146105ed576040805162461bcd60e51b815260206004820181905260248201526000805160206110b3833981519152604482015290519081900360640190fd5b600654610602836105fc6104aa565b90610d43565b111561064e576040805162461bcd60e51b81526020600482015260166024820152754343546f6b656e3a206361702065786365656465642160501b604482015290519081900360640190fd5b6104a18383610da4565b610660610a61565b60055461010090046001600160a01b039081169116146106b5576040805162461bcd60e51b815260206004820181905260248201526000805160206110b3833981519152604482015290519081900360640190fd5b600081116106fe576040805162461bcd60e51b815260206004820152601160248201527004343546f6b656e3a20636170206973203607c1b604482015290519081900360640190fd5b600655565b60065490565b6001600160a01b031660009081526020819052604090205490565b61072c610a61565b60055461010090046001600160a01b03908116911614610781576040805162461bcd60e51b815260206004820181905260248201526000805160206110b3833981519152604482015290519081900360640190fd5b60055460405160009161010090046001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a360058054610100600160a81b0319169055565b6107d9610a61565b60055461010090046001600160a01b0390811691161461082e576040805162461bcd60e51b815260206004820181905260248201526000805160206110b3833981519152604482015290519081900360640190fd5b6108388282610e94565b5050565b60055461010090046001600160a01b031690565b60048054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104835780601f1061045857610100808354040283529160200191610483565b60006104a16108be610a61565b846105288560405180606001604052806025815260200161113d60259139600160006108e8610a61565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610cac565b60006104a1610926610a61565b8484610b51565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b610960610a61565b60055461010090046001600160a01b039081169116146109b5576040805162461bcd60e51b815260206004820181905260248201526000805160206110b3833981519152604482015290519081900360640190fd5b6001600160a01b0381166109fa5760405162461bcd60e51b815260040180806020018281038252602681526020018061101d6026913960400191505060405180910390fd5b6005546040516001600160a01b0380841692610100900416907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600580546001600160a01b0390921661010002610100600160a81b0319909216919091179055565b3390565b6001600160a01b038316610aaa5760405162461bcd60e51b81526004018080602001828103825260248152602001806111196024913960400191505060405180910390fd5b6001600160a01b038216610aef5760405162461bcd60e51b81526004018080602001828103825260228152602001806110436022913960400191505060405180910390fd5b6001600160a01b03808416600081815260016020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610b965760405162461bcd60e51b81526004018080602001828103825260258152602001806110f46025913960400191505060405180910390fd5b6001600160a01b038216610bdb5760405162461bcd60e51b8152600401808060200182810382526023815260200180610fd86023913960400191505060405180910390fd5b610be6838383610f90565b610c2381604051806060016040528060268152602001611065602691396001600160a01b0386166000908152602081905260409020549190610cac565b6001600160a01b038085166000908152602081905260408082209390935590841681522054610c529082610d43565b6001600160a01b038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610d3b5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610d00578181015183820152602001610ce8565b50505050905090810190601f168015610d2d5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610d9d576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610dff576040805162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b610e0b60008383610f90565b600254610e189082610d43565b6002556001600160a01b038216600090815260208190526040902054610e3e9082610d43565b6001600160a01b0383166000818152602081815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b038216610ed95760405162461bcd60e51b81526004018080602001828103825260218152602001806110d36021913960400191505060405180910390fd5b610ee582600083610f90565b610f2281604051806060016040528060228152602001610ffb602291396001600160a01b0385166000908152602081905260409020549190610cac565b6001600160a01b038316600090815260208190526040902055600254610f489082610f95565b6002556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b505050565b6000610d9d83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610cac56fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a206275726e20616d6f756e7420657863656564732062616c616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657245524332303a206275726e2066726f6d20746865207a65726f206164647265737345524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa264697066735822122087bf15ee31e064bdf3e4ad381c6b8a22282ef090119fadbded554335565a67c964736f6c634300060c003372656465656d4665652063616e206e6f74206d6f7265207468616e20636f6e74726163742062616c616e6365214343426173653a2063616c6c6572206973206e6f7420746865207769746e6573732153796d626f6c2063616e2774206265206e756c6c206f72206c6f6e676572207468616e203920737472696e6721496e697469616c697a61626c653a20636f6e747261637420697320616c726561647920696e697469616c697a65644e616d652063616e2774206265206e756c6c206f72206c6f6e676572207468616e20313920737472696e6721546f6b656e20636f6e747261637420776974682073616d652073796d626f6c20686173206265656e206372656174656421496e76616c6964206c656e677468206f662072656d6f74652061646472657373214343426173653a2063616c6c6572206973206e6f7420746865206f776e6572214343426173653a206e6577206f776e657220697320746865207a65726f2061646472657373746f74616c2072656465656d466565206c657373207468616e2063616e207472616e7366657220616d6f756e742172656465656d20616d6f756e74206c657373207468616e2072656465656d46656521a26469706673582212204e3154d839dc43605ba0677e092067e720cca89660cf735d3cb89daddc8c98c664736f6c634300060c0033'
abi = [{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":true,"internalType":"address","name":"localAddress","type":"address"},{"indexed":false,"internalType":"string","name":"remoteAddress","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"AssetMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":true,"internalType":"address","name":"recviceAddress","type":"address"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"redeemFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"rollbackFee","type":"uint256"}],"name":"AssetRedeemRollback","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":true,"internalType":"address","name":"localAddress","type":"address"},{"indexed":false,"internalType":"string","name":"remoteAddress","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"AssetRedeemed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldNonce","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newNonce","type":"uint256"}],"name":"EventNonceChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldNonce","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newNonce","type":"uint256"}],"name":"LastHandledNonceChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldMonitor","type":"address"},{"indexed":true,"internalType":"address","name":"newMonitor","type":"address"}],"name":"MonitorChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint256","name":"oldCap","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newCap","type":"uint256"}],"name":"TokenCapChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint8","name":"decimals","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"cap","type":"uint256"}],"name":"TokenCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"TokenFeeSetted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recviceAddress","type":"address"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"TokenFeeTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldWitness","type":"address"},{"indexed":true,"internalType":"address","name":"newWitness","type":"address"}],"name":"WitnessChanged","type":"event"},{"inputs":[],"name":"VALID_REMOTE_ADDRESS_LENGTH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allSymbols","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eventNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastHandledNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSwitch","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"handledNonces","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isMonitor","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isWitness","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"monitor","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"rollbackNonces","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newNonce","type":"uint256"}],"name":"setEventNonce","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newNonce","type":"uint256"}],"name":"setLastHandledNonce","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newMonitor","type":"address"}],"name":"setMonitor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_newSwitch","type":"bool"}],"name":"setSwitch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newWitness","type":"address"}],"name":"setWitness","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"switchOff","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"witness","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint8","name":"_decimals","type":"uint8"},{"internalType":"uint256","name":"_cap","type":"uint256"}],"name":"createTokenContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_symbol","type":"string"}],"name":"getTokenContract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_symbol","type":"string"}],"name":"getTokenCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint256","name":"_newCap","type":"uint256"}],"name":"setTokenCap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_symbol","type":"string"}],"name":"getTokenFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint256","name":"_newFee","type":"uint256"}],"name":"setTokenFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_remoteAddress","type":"string"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"redeemToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_eventNonce","type":"uint256"},{"internalType":"address","name":"_localAddress","type":"address"},{"internalType":"string","name":"_remoteAddress","type":"string"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mintToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_recviceAddress","type":"address"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdrawFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"allSymbolLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_symbol","type":"string"}],"name":"getTokenInfo","outputs":[{"internalType":"address","name":"tokenAddr","type":"address"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"uint8","name":"_decimals","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_eventNonce","type":"uint256"},{"internalType":"address","name":"_recviceAddress","type":"address"},{"internalType":"string","name":"_symbol","type":"string"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_fee","type":"uint256"},{"internalType":"uint256","name":"_rollbackFee","type":"uint256"}],"name":"rollBackToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]
account = Account().privateKeyToAccount(main_private_key, hrp)
contract = deploy(tx.web3, bytecode, abi, account)  # 1,部署管理合约
print(contract.address)

# atp1fcxnv52ejrtn4gc44m3gvd3hsg3aadp7tzhkp6

contract.initialize()  # 2,合约初始化   aETH
result = contract.createTokenContract(_name='aETH123', _symbol='aETH', _decimals=18, _cap=10 ** 18 * 10000)   # 3,创建合约代币
# print(result)
# 4,铸币
eventNonce = 100
zhubi = contract.mintToken(eventNonce, 'lat1cy2uat0eukfrxv897s5s8lnljfka5ewjtnrfhx', 'lat1cy2uat0eukfrxv897s5s8lnljfka5ewjtnrfhx', _symbol='aETH', _amount=100 * 10 ** 18)
print('铸币结果：', zhubi)
erc20_address = contract.getTokenContract(_symbol='aETH')   # 获取合约地址
erc20_address = erc20_address[0][2:]
print(erc20_address)
erc20_address = hex_address_to_bech32_address(erc20_address, 'lat')
print(f'erc20_address: {erc20_address}')
# ###################### 5,使用管理合约创建 erc20 Token  ############################
erc20_bytecode = '608060405234801561001057600080fd5b5060405162000c6238038062000c628339818101604052604081101561003557600080fd5b810190808051604051939291908464010000000082111561005557600080fd5b90830190602082018581111561006a57600080fd5b825164010000000081118282018810171561008457600080fd5b82525081516020918201929091019080838360005b838110156100b1578181015183820152602001610099565b50505050905090810190601f1680156100de5780820380516001836020036101000a031916815260200191505b506040526020018051604051939291908464010000000082111561010157600080fd5b90830190602082018581111561011657600080fd5b825164010000000081118282018810171561013057600080fd5b82525081516020918201929091019080838360005b8381101561015d578181015183820152602001610145565b50505050905090810190601f16801561018a5780820380516001836020036101000a031916815260200191505b50604052505082516101a4915060039060208501906101cd565b5080516101b89060049060208401906101cd565b50506005805460ff1916601217905550610260565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061020e57805160ff191683800117855561023b565b8280016001018555821561023b579182015b8281111561023b578251825591602001919060010190610220565b5061024792915061024b565b5090565b5b80821115610247576000815560010161024c565b6109f280620002706000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c8063395093511161007157806339509351146101d957806370a082311461020557806395d89b411461022b578063a457c2d714610233578063a9059cbb1461025f578063dd62ed3e1461028b576100a9565b806306fdde03146100ae578063095ea7b31461012b57806318160ddd1461016b57806323b872dd14610185578063313ce567146101bb575b600080fd5b6100b66102b9565b6040805160208082528351818301528351919283929083019185019080838360005b838110156100f05781810151838201526020016100d8565b50505050905090810190601f16801561011d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101576004803603604081101561014157600080fd5b506001600160a01b03813516906020013561034f565b604080519115158252519081900360200190f35b61017361036c565b60408051918252519081900360200190f35b6101576004803603606081101561019b57600080fd5b506001600160a01b03813581169160208101359091169060400135610372565b6101c36103f9565b6040805160ff9092168252519081900360200190f35b610157600480360360408110156101ef57600080fd5b506001600160a01b038135169060200135610402565b6101736004803603602081101561021b57600080fd5b50356001600160a01b0316610450565b6100b661046b565b6101576004803603604081101561024957600080fd5b506001600160a01b0381351690602001356104cc565b6101576004803603604081101561027557600080fd5b506001600160a01b038135169060200135610534565b610173600480360360408110156102a157600080fd5b506001600160a01b0381358116916020013516610548565b60038054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156103455780601f1061031a57610100808354040283529160200191610345565b820191906000526020600020905b81548152906001019060200180831161032857829003601f168201915b5050505050905090565b600061036361035c610573565b8484610577565b50600192915050565b60025490565b600061037f848484610663565b6103ef8461038b610573565b6103ea85604051806060016040528060288152602001610927602891396001600160a01b038a166000908152600160205260408120906103c9610573565b6001600160a01b0316815260208101919091526040016000205491906107be565b610577565b5060019392505050565b60055460ff1690565b600061036361040f610573565b846103ea8560016000610420610573565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610855565b6001600160a01b031660009081526020819052604090205490565b60048054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156103455780601f1061031a57610100808354040283529160200191610345565b60006103636104d9610573565b846103ea856040518060600160405280602581526020016109986025913960016000610503610573565b6001600160a01b03908116825260208083019390935260409182016000908120918d168152925290205491906107be565b6000610363610541610573565b8484610663565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b3390565b6001600160a01b0383166105bc5760405162461bcd60e51b81526004018080602001828103825260248152602001806109746024913960400191505060405180910390fd5b6001600160a01b0382166106015760405162461bcd60e51b81526004018080602001828103825260228152602001806108df6022913960400191505060405180910390fd5b6001600160a01b03808416600081815260016020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b0383166106a85760405162461bcd60e51b815260040180806020018281038252602581526020018061094f6025913960400191505060405180910390fd5b6001600160a01b0382166106ed5760405162461bcd60e51b81526004018080602001828103825260238152602001806108bc6023913960400191505060405180910390fd5b6106f88383836108b6565b61073581604051806060016040528060268152602001610901602691396001600160a01b03861660009081526020819052604090205491906107be565b6001600160a01b0380851660009081526020819052604080822093909355908416815220546107649082610855565b6001600160a01b038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000818484111561084d5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b838110156108125781810151838201526020016107fa565b50505050905090810190601f16801561083f5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b6000828201838110156108af576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b50505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa26469706673582212203b01b558095015e0be38b0aa4b2433bf05c14426b2e1f4780b70343a5cb7e90464736f6c634300060c0033'
erc20_abi = [{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]
erc20 = Contract(tx.web3, erc20_bytecode, erc20_abi, tx.web3.toChecksumAddress(erc20_address), account)
print(erc20.balanceOf('lat1cy2uat0eukfrxv897s5s8lnljfka5ewjtnrfhx'))
# print(erc20.totalSupply())
# erc20 转账
# trance_result =erc20.transfer(recipient='lat1t0yaznl3z7eqvagy29w7a4dn6c0m0a0kxgrypu', amount=2 * 10 ** 18)
# print('转账结果', trance_result)
# erc20 回滚
recviceAddress = 'lat1cy2uat0eukfrxv897s5s8lnljfka5ewjtnrfhx'
# contract.rollBackToken(_eventNonce=1001, _recviceAddress='lat1t0yaznl3z7eqvagy29w7a4dn6c0m0a0kxgrypu', _symbol='aETH', _amount=2 * 10 ** 18, _fee=0, _rollbackFee=0)
# 赎回
# contract.redeemToken(_remoteAddress='lat1cy2uat0eukfrxv897s5s8lnljfka5ewjtnrfhx', _symbol='aETH', _amount=1 * 10 ** 18)
# erc20.